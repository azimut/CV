\usepackage[margin=.5in]{geometry}

\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  urlcolor=blue
}
\urlstyle{same}

\usepackage[spanish,english]{babel}
\usepackage{multicol}
\setlength{\columnsep}{1cm}
\usepackage{randtext}
\usepackage{titlesec}
\usepackage{titling}
\usepackage{fontawesome5}
\usepackage{xcolor}
\usepackage{enumitem}

\ExplSyntaxOn
\NewDocumentCommand{\getenv}{om}
 {
  \sys_get_shell:nnN { kpsewhich ~ --var-value ~ #2 } { } \l_tmpa_tl
  \tl_trim_spaces:N \l_tmpa_tl
  \IfNoValueTF { #1 }
   {
    \tl_use:N \l_tmpa_tl
   }
   {
    \tl_set_eq:NN #1 \l_tmpa_tl
   }
 }
\ExplSyntaxOff

\getenv[\MAILTO]{MAILTO}
\getenv[\FULLNAME]{FULLNAME}
\getenv[\LINKEDIN]{LINKEDIN}

\renewcommand{\maketitle}{
  \begin{center}
    {\Huge\bfseries\theauthor} \\
    \vspace{.25em}
    \raisebox{-0.10\height}{\small{\faEnvelope}} \href {mailto:\MAILTO} {\expandafter\randomize\expandafter{\MAILTO}} $\cdot$
    \raisebox{-0.05\height}{\small{\faGithub}}   \href {https://github.com/azimut} {azimut} $\cdot$
    \raisebox{-0.05\height}{\small{\faLinkedin}} \href {https://www.linkedin.com/in/\LINKEDIN} {\LINKEDIN} $\cdot$
    \raisebox{-0.05\height}{\small{\faHome}}     \href {https://azimut.github.io/} {personal site} \\
    \vspace{.25em}
    \today
  \end{center}
}

\usepackage{lastpage}
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}
\fancyhf{} % to clear existing header/footer if you don't want it
\cfoot{Page \thepage \hspace{1pt} of \pageref*{LastPage}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\titleformat{\section}
{\centering\huge\bfseries\lowercase}
{}
{0em}
{}[\titlerule]

\titleformat{\subsection}[runin]
{\bfseries}
{}
{0em}
{}

\titleformat{\subsubsection}[runin]
{\normalfont\sffamily} % Formatting of the whole thing
{}          % Numbering
{0em}       % Spacing between number and after
{}          % Anything Between the gap and the title
[]

\titlespacing{\subsubsection}
{0em} % before
{0em} % between
{.5em} % after

\newcommand{\git}[1]{\href {https://github.com/azimut/#1} {\scriptsize{\faLink}}}
\newcommand
    {\project}
    [3]
    {\texttt{#1} & #3 \git{#2}\\}

\newcommand
    {\skill}
    [2]
    {\raisebox{-0.15\height}{\footnotesize{#1}} & #2 \\}

\setlist{noitemsep}
